================================================================================
Secure Software Development Project
================================================================================


================================================================================
Section 1: Data Encryption (Application-Level Encryption)
==============================================================================

Status: Complete

Changes:

1. EncryptionConfig.cs
    - Refactored to store and manage symmetric encryption key and IV for ALE.
    - Key and IV are generated and stored securely (not hardcoded in production).
    - Provides methods for encrypting and decrypting strings using AES (CBC mode, PKCS7 padding).

2. Data_Access_Layer.cs
    - Refactored to encrypt PII fields before inserting/updating records in the database.
    - Decrypts PII fields after reading records from the database.
    - SQLCipher password and database-level encryption are no longer used.

PII Identification:
    - The following fields are considered PII and are encrypted-at-rest: name, address_line_1, address_line_2, address_line_3, town.

How?
    - The application uses AES-256-CBC with a securely generated key and IV.
    - All PII fields are encrypted in the application before being written to the database.
    - When data is read, the application decrypts the PII fields before use.
    - The database only stores ciphertext for PII fields, not plaintext.
    - Key material is protected and not stored in the database.

Issues?
    - Started with Database-Level Encryption but did not want to forfeit the 30% marks. Therefore I went back and implemented ALE (apologies for any artefacts of DLE)


================================================================================
SECTION 2: LOGGING [10%]
================================================================================

Status: Complete

Changes:

1. EventLogger.cs
    - I created this file
    - This writes to the Windows Event Log under the source "SSD Banking Application"
    - I made sure it handles source creation in try/catch so that the app does not crash without admin rights
    - Neatly commented

2. Program.cs
    - I modified this file
    - I added a simple prompt for the tellers name
    - Log any add/close/view/lodge/withdraw successes and failures
    - Ask for a reason if a lodgement/withdrawal is greater than or equal to €10,000 and logs it as 'WHY'
    - Add machine name + SID automatically 'WHERE' and simple app metadata 'HOW'

How?
    - Every transaction now writes a clear Event Log entry with WHO/WHAT/WHERE/WHEN/WHY/HOW
    - Failures (missing account, cancelled closure, insufficient funds) are logged as FAIL
    - Source creation is guarded so running without admin will not blow up the app

Issues?
    - Major issues with EventLog not being able to be found. Unfortunately the fix required assistance.


================================================================================
SECTION 3: Authentication
================================================================================

Status: Done!

1. Active Directory Users and Computers
    - New Bank Teller Administrator: samuelayres@ITSLIGO.LAN
    - New Bank Teller: johndoe@ITSLIGO.LAN

    Password for both: test1234?
    (yes this is a horrific password choice, especially for the subject I just did it for, but I kept it simple for the project)

Changes:

1. ActiveDirectoryAuthenticator.cs
    - I created this file
    - NuGet Package Manager: added System.DirectoryServices.AccountManagement

2. Program.cs
    - I modified this file
    - Prompt for AD info on startup.
    - Enforce role check before showing main menu
    - For account deletion: require secondary approval from the Bank Tell Administrator role (samuelayres@ITSLIGO.LAN)
    - On every authentication attempt: call the EventLogger.LogAuth


================================================================================
SECTION 4: ADDITIONAL SECURITY CONTROLS [30%]
================================================================================

Status: Complete

Changes:

1. Parameterized Queries (Data_Access_Layer.cs)
    - Status: NOT YET IMPLEMENTED
    - To do: Replace string-concatenated SQL with parameters for INSERT/UPDATE/DELETE
    - To do: Add SQL injection protection

2. Lot's of Input Validation
    - check program.cs, all the validation is in there


================================================================================
SECTION 5: CODE QUALITY AND OVERALL PRESENTATION [10%]
================================================================================

I believe my code is simple & easy to read
This progress.txt file serves as additional support for knowing what I changed.